!function(t){"use strict";function e(t,e){let n=0,l=e.length-1,i=e.length;for(;n<=l;){const o=Math.floor((n+l)/2);e[o].y>=t?(i=o,l=o-1):n=o+1}return i}t._getVisibleRange=function(t,n,l=100,i=[],o=0){const s=t+n+l,r=e(t-l,i),u=e(s,i);return[Math.max(0,r-o),Math.min(i.length-1,u+o)]},t.debounce=function(t,e,n=!1){let l=null,i=!1;return function(...o){const s=this;!n||l||i||(t.apply(s,o),i=!0),null!==l&&clearTimeout(l),l=setTimeout((()=>{n||t.apply(s,o),l=null,i=!1}),e)}},t.observeVisibility=function(t,e){new IntersectionObserver((([n],l)=>{n.isIntersecting?(t.firstElementChild&&t.firstElementChild.classList.add(e),l.unobserve(t)):t.firstElementChild&&t.firstElementChild.classList.remove(e)}),{root:this.el,threshold:.1}).observe(t)},t.throttle=function(t,e,n={}){let l,i,o=null,s=0;const r=()=>{s=!1===n.leading?0:Date.now(),o=null,t.apply(l,i),l=i=null},u=function(...u){const c=Date.now();s||!1!==n.leading||(s=c);const a=e-(c-s);l=this,i=u,a<=0||a>e?(o&&(clearTimeout(o),o=null),s=c,t.apply(l,i),l=i=null):o||!1===n.trailing||(o=setTimeout(r,a))};return u.cancel=()=>{clearTimeout(o),o=null,s=0},u}}({});
